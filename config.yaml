# Toolify Configuration Example File
# Please copy this file as config.yaml and modify the configuration according to your actual needs

# Server configuration
server:
  port: 8000                    # Server listening port
  host: "0.0.0.0"              # Server listening address
  timeout: 180                  # Request timeout (seconds)

# Upstream OpenAI compatible service configuration
upstream_services:
  - name: "qwen"
    base_url: "https://qwen.ronghuaxueleng.top/v1"
    api_key: "ronghuaxueleng"
    description: "Qwen Service"
    is_default: true
    models:
      # Qwen3 Max 系列
      - "qwen3-max-2025-10-30"
      - "qwen3-max-2025-10-30-thinking"
      - "qwen3-max-2025-10-30-search"
      # Qwen3 VL Plus 系列 (视觉)
      - "qwen3-vl-plus"
      - "qwen3-vl-plus-thinking"
      # Qwen3 Coder Plus 系列 (编程)
      - "qwen3-coder-plus"
      - "qwen3-coder-plus-thinking"
      # Qwen Max Latest
      - "qwen-max-latest"
      - "qwen-max-latest-thinking"
      - "qwen-max-latest-search"
      # Qwen Plus 系列
      - "qwen-plus-2025-09-11"
      - "qwen-plus-2025-01-25"
      # QwQ 推理模型
      - "qwq-32b"
      - "qwq-32b-thinking"
      # Qwen Turbo
      - "qwen-turbo-2025-02-11"
      # Qwen 2.5 系列
      - "qwen2.5-72b-instruct"
      - "qwen2.5-coder-32b-instruct"
      - "qwen2.5-vl-32b-instruct"
      - "qwen2.5-14b-instruct-1m"
      # QVQ 视觉推理
      - "qvq-72b-preview-0310"

# Client authentication configuration
client_authentication:
  allowed_keys:
    - "ronghuaxueleng"

# Feature configuration
features:
  enable_function_calling: true  # Enable function calling feature
  log_level: "DEBUG"             # Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL, or DISABLED
  convert_developer_to_system: true  # Whether to convert the developer role to the system role
  key_passthrough: false          # If true, directly forward client-provided API key to upstream instead of using configured upstream key
  model_passthrough: false         # If true, forward all requests directly to the 'openai' upstream service, ignoring model-based routing
  
  # Custom prompt template (optional). If not provided, the default prompt will be used.
  # The default prompt includes comprehensive features:
  # - Support for multiple tool calls in a single response
  # - Context awareness to avoid duplicate tool calls
  # - Strict parameter matching rules (preserving special characters like hyphens)
  # - Clear format requirements with correct and incorrect examples
  # - Tool result tracking via XML tags
  #
  # You can uncomment and customize the following template if needed:
  # prompt_template: |
  #   Your custom prompt template here...
  #   Must include {tools_list} and {trigger_signal} placeholders

# Configuration explanation:
# 1. upstream_services: Configure multiple OpenAI compatible API services
#    - name: Service name (for identification)
#    - base_url: Base URL of the service
#    - api_key: API key for the corresponding service
#    - models: Complete list of models supported by the service
#    - is_default: Whether it is the default service (used when the requested model is not in any service's model list)
#    - description: Service description (optional)
#
# 2. Routing matching rules:
#    - The system will exactly match the corresponding service based on the model name in the request
#    - If the model name is not in the models list of any service, the service with is_default set to true will be used
#    - There must be one and only one service marked as is_default: true
#
# 3. Client authentication:
#    - allowed_keys: List of client API keys allowed to access this middleware
#
# 4. Logging levels:
#    - DEBUG: Show all debug information (most verbose)
#    - INFO: Show general information, warnings and errors
#    - WARNING: Show only warnings and errors
#    - ERROR: Show only errors
#    - CRITICAL: Show only critical errors
#    - DISABLED: Disable all logging
#
# 5. Security reminders:
#    - Please keep API keys safe and do not commit configuration files containing real keys to version control systems
#    - It is recommended to use different configuration files for different environments
#    - Environment variables can be used to manage sensitive information